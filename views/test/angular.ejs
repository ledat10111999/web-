<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/bootstrap.min.css">
    <script src="/javascripts/angular.min.js"></script>
    <title>Document</title>
</head>

<body>
    <div ng-app="myApp" ng-controller="controller1">
        <div class="container">
            <h3>Tin nổi bật</h3>
            <div class="row searching-bar blur-bg">
                <div class="col-md-2 pt-3">
                    <div class="form-group">
                        <select id="inputState" class="form-control w-100" ng-model="tinhThanh">
                            <option selected value="">Chọn tỉnh</option>
                            <option value="Thành Phố Hồ Chí Minh">Thành Phố Hồ Chí Minh</option>
                            <option value="Hà Nội">Hà Nội</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-2 pt-3">
                    <div class="form-group">
                        <select id="inputState" class="form-control w-100" ng-model="QuanHuyen">
                            <option selected value="">Chọn Quận</option>
                            <option value="Quận 1">Quận 1</option>
                            <option value="Quận 2">Quận 2</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-sm-6" ng-repeat='x in data |filter:tinhThanh'>
                    <a href="/DangTin/post/{{x.ID}} " style="text-decoration: none; color: #000;">
                        <div class="card mb-3" style="max-width: 540px;">
                            <div class="row no-gutters">
                                <div class="col-md-4">
                                    <img src="/{{x.image}}" height="200px" class="card-img" alt="...">
                                </div>
                                <div class="col-md-8">
                                    <div class="card-body">
                                        <h5 class="card-title">{{x.TieuDe}} </h5>
                                        <p class="card-text font-weight-bold">Giá:{{x.Gia}} </p>
                                        <p class="card-text">{{x.NoiDung}} </p>
                                        <p class="card-text">{{x.tenQuan + "-" + x.tenTp }} </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>

    </div>

    <script type="text/javascript">
        var app = angular.module('myApp', []);
        app.controller('controller1', function ($scope, $http) {

            $scope.param = 'đã truyền'
            var base_url = location.protocol + '//' + document.domain + ':' + location.port;
            $http.get(base_url + '/laydulieu').then((result) => {
                $scope.data = result.data;
                console.log(result.data);

            }).catch((err) => {
                $scope.data = err
            });
        })
    </script>
</body>

</html>